<%= render 'shared_partials/admin_nav' %>

<div class="jumbotron" style="background-color:white">
<p id="notice"><%= notice %></p>

    <h1>Storage Keys</h1>
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                <th>Storage key ID</th>
                <th>User</th>
                <th colspan="3"></th>
                </tr>
            </thead>

            <tbody>
                <% @storage_keys.each do |storage_key| %>
                <tr>
                    <td><%= storage_key.id %></td>
                    <td><%= first_and_last_show(storage_key.user_id) %></td>
                    <td><%= link_to 'Show', storage_key, class:'a-CRUD' %></td>
                    <td><%= link_to 'Transfer', edit_storage_key_path(storage_key), class:'a-CRUD' %></td>
                    <td><%= link_to 'Destroy', storage_key, method: :delete, data: { confirm: 'Are you sure?' }, class:'a-CRUD' %></td>
                </tr>
                <% end %>
            </tbody>
        </table>
    </div>

    <br>
    <% if session[:user_role] == 'Admin' %>
    <%= link_to 'New Storage Key', new_storage_key_path, class:"btn btn-primary a-primary" %>
    <% end %>
    <br><br>
    <%= link_to 'Back', root_url, class:'btn btn-secondary a-primary' %>
</div>